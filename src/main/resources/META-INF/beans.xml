<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns="http://www.springframework.org/schema/beans"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="abstractDao" class="app.dao.hibernate.AbstractDao" abstract="true" destroy-method="cleanUp"/>

    <bean id="algorithmDao" class="app.dao.hibernate.AlgorithmDaoImpl" parent="abstractDao"/>
    <bean id="paradigmDao" class="app.dao.hibernate.ParadigmDaoImpl" parent="abstractDao"/>
    <bean id="fieldDao" class="app.dao.hibernate.FieldDaoImpl" parent="abstractDao"/>
    <bean id="areaDao" class="app.dao.hibernate.AreaDaoImpl" parent="abstractDao"/>
    <bean id="applicationDao" class="app.dao.hibernate.ApplicationDaoImpl" parent="abstractDao"/>

    <bean id="algorithmService" class="app.service.AlgorithmServiceImpl">
        <constructor-arg name="algorithmDao" ref="algorithmDao"/>
        <constructor-arg name="paradigmDao" ref="paradigmDao"/>
        <constructor-arg name="fieldDao" ref="fieldDao"/>
        <constructor-arg name="areaDao" ref="areaDao"/>
        <constructor-arg name="applicationDao" ref="applicationDao"/>
    </bean>

    <bean id="algorithmController" class="app.controller.AlgorithmController">
        <constructor-arg name="algorithmService" ref="algorithmService"/>
    </bean>


    <bean id="bookDao" class="app.dao.hibernate.BookDaoImpl" parent="abstractDao"/>
    <bean id="authorDao" class="app.dao.hibernate.AuthorDaoImpl" parent="abstractDao"/>
    <bean id="referenceDao" class="app.dao.hibernate.ReferenceDaoImpl" parent="abstractDao"/>
    <bean id="bookService" class="app.service.BookServiceImpl">
        <constructor-arg name="bookDao" ref="bookDao"/>
        <constructor-arg name="authorDao" ref="authorDao"/>
        <constructor-arg name="referenceDao" ref="referenceDao"/>
    </bean>
    <bean id="textbookController" class="app.controller.TextbookController">
        <constructor-arg name="bookService" ref="bookService"/>
    </bean>

    <bean id="referenceController" class="app.controller.ReferenceController">
        <constructor-arg name="algorithmService" ref="algorithmService"/>
        <constructor-arg name="bookService" ref="bookService"/>
    </bean>
</beans>
